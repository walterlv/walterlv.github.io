<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="å¤©å‰"><meta name="hour-prompt" content="å°æ—¶å‰"><meta name="minute-prompt" content="åˆ†é’Ÿå‰"><meta name="justnow-prompt" content="åˆšåˆš"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="æµç•…è®¾è®¡ Fluent Design System ä¸­çš„å…‰ç…§æ•ˆæœ RevealBrushï¼ŒWPF ä¹Ÿèƒ½æ¨¡æ‹Ÿå®ç°å•¦ï¼" /><meta name="author" content="å•æ¯…" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="UWP æ‰èƒ½ä½¿ç”¨çš„æµç•…è®¾è®¡æ•ˆæœå¥½æƒŠè‰³ï¼Œå†™æ–°çš„ UWP ç¨‹åºå¯ä»¥åšå‡ºæ›´æ¼‚äº®çš„ UI å•¦ï¼ç„¶è€Œå¤è€çš„ WPF é¡¹ç›®ä¹Ÿæƒ³è§£è§£é¦‹æ€ä¹ˆåŠï¼Ÿ äºæ˜¯æˆ‘åŠ¨æ‰‹å®ç°äº†ä¸€ä¸ªï¼" /><meta property="og:description" content="UWP æ‰èƒ½ä½¿ç”¨çš„æµç•…è®¾è®¡æ•ˆæœå¥½æƒŠè‰³ï¼Œå†™æ–°çš„ UWP ç¨‹åºå¯ä»¥åšå‡ºæ›´æ¼‚äº®çš„ UI å•¦ï¼ç„¶è€Œå¤è€çš„ WPF é¡¹ç›®ä¹Ÿæƒ³è§£è§£é¦‹æ€ä¹ˆåŠï¼Ÿ äºæ˜¯æˆ‘åŠ¨æ‰‹å®ç°äº†ä¸€ä¸ªï¼" /><link rel="canonical" href="https://blog.walterlv.com/post/fluent-design-reveal-brush-in-wpf.html" /><meta property="og:url" content="https://blog.walterlv.com/post/fluent-design-reveal-brush-in-wpf.html" /><meta property="og:site_name" content="walterlv" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-03-23T11:09:45+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="æµç•…è®¾è®¡ Fluent Design System ä¸­çš„å…‰ç…§æ•ˆæœ RevealBrushï¼ŒWPF ä¹Ÿèƒ½æ¨¡æ‹Ÿå®ç°å•¦ï¼" /><meta name="twitter:site" content="@_lvyi_" /><meta name="twitter:creator" content="@å•æ¯…" /> <script type="application/ld+json"> {"datePublished":"2019-03-23T11:09:45+08:00","description":"UWP æ‰èƒ½ä½¿ç”¨çš„æµç•…è®¾è®¡æ•ˆæœå¥½æƒŠè‰³ï¼Œå†™æ–°çš„ UWP ç¨‹åºå¯ä»¥åšå‡ºæ›´æ¼‚äº®çš„ UI å•¦ï¼ç„¶è€Œå¤è€çš„ WPF é¡¹ç›®ä¹Ÿæƒ³è§£è§£é¦‹æ€ä¹ˆåŠï¼Ÿ äºæ˜¯æˆ‘åŠ¨æ‰‹å®ç°äº†ä¸€ä¸ªï¼","dateModified":"2021-12-20T00:40:29+08:00","headline":"æµç•…è®¾è®¡ Fluent Design System ä¸­çš„å…‰ç…§æ•ˆæœ RevealBrushï¼ŒWPF ä¹Ÿèƒ½æ¨¡æ‹Ÿå®ç°å•¦ï¼","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.walterlv.com/post/fluent-design-reveal-brush-in-wpf.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://blog.walterlv.com/assets/img/logo.png"},"name":"å•æ¯…"},"url":"https://blog.walterlv.com/post/fluent-design-reveal-brush-in-wpf.html","author":{"@type":"Person","name":"å•æ¯…"},"@type":"BlogPosting","@context":"https://schema.org"}</script><title>æµç•…è®¾è®¡ Fluent Design System ä¸­çš„å…‰ç…§æ•ˆæœ RevealBrushï¼ŒWPF ä¹Ÿèƒ½æ¨¡æ‹Ÿå®ç°å•¦ï¼ - walterlv</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="walterlv"><meta name="application-name" content="walterlv"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="topbar-wrapper" class="row topbar-down"><div id="topbar" class="col-12 d-flex h-100 align-items-center"><div id="topbar-logoside" class="col"> <a id="topbar-logo" href="https://blog.walterlv.com" alt="avatar"> <img src="/assets/img/logo.png" alt="avatar" onerror="this.style.display='none'"> </a> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i> <a id="topbar-title" class="site-title" href="https://blog.walterlv.com" alt="walterlv"> walterlv </a></div><div id="topbar-searchside" class="justify-content-center col-5"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="æœç´¢..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >å–æ¶ˆ</span></div><div class="col"></div></div></div><div id="sidebar" class="d-flex flex-column align-items-end" lang="zh-CN"><div class="sidebar-box post-item-box profile-wrapper text-center"><div class="site-title mt-3"> <a href="/">å•æ¯…</a></div><div class="site-subtitle font-italic">.NET and Windows App Developer, Microsoft MVP</div></div><ul class="sidebar-box post-item-box"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>é¦–é¡µ</span> </a><li class="nav-item"> <a href="/friends/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>æœ‹å‹å’Œæ”¶è—</span> </a><li class="nav-item"> <a href="/mind/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>èƒ¡æ€ä¹±æƒ³</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>å½’æ¡£</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>å…³äº</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/walterlv" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/_lvyi_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['walter.lv','qq.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>æµç•…è®¾è®¡ Fluent Design System ä¸­çš„å…‰ç…§æ•ˆæœ RevealBrushï¼ŒWPF ä¹Ÿèƒ½æ¨¡æ‹Ÿå®ç°å•¦ï¼</h1><div class="post-meta text-muted"><div class="d-flex"> <span> å•æ¯… </span> <span> å‘è¡¨äº <em class="timeago" date="2018-04-05 16:34:42 +0800" data-toggle="tooltip" data-placement="bottom" title="2018-04-05, 16:34 +0800" >2018-04-05</em> </span> <span> æ›´æ–°äº <em class="timeago" date="2019-03-23 11:09:45 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-03-23, 11:09 +0800" >2019-03-23</em> </span></div></div><div class="post-content"><p>UWP æ‰èƒ½ä½¿ç”¨çš„æµç•…è®¾è®¡æ•ˆæœå¥½æƒŠè‰³ï¼Œå†™æ–°çš„ UWP ç¨‹åºå¯ä»¥åšå‡ºæ›´æ¼‚äº®çš„ UI å•¦ï¼ç„¶è€Œå¤è€çš„ WPF é¡¹ç›®ä¹Ÿæƒ³è§£è§£é¦‹æ€ä¹ˆåŠï¼Ÿ</p><p>äºæ˜¯æˆ‘åŠ¨æ‰‹å®ç°äº†ä¸€ä¸ªï¼</p><hr /><div id="toc"></div><h2 id="è¿«ä¸åŠå¾…çœ‹æ•ˆæœ">è¿«ä¸åŠå¾…çœ‹æ•ˆæœ<a href="#è¿«ä¸åŠå¾…çœ‹æ•ˆæœ"><i class="fas fa-hashtag"></i></a></h2></h2><p><img data-proofer-ignore data-src="/static/posts/2018-04-05-16-09-11.gif" alt="å…‰ç…§æ•ˆæœ" /><br /> â–² æ˜¯ä¸æ˜¯å¾ˆåƒ UWP ä¸­çš„ <code class="language-plaintext highlighter-rouge">RevealBorderBrush</code>ï¼Ÿ</p><p>ä¸æ­¢æ˜¯æ•ˆæœåƒï¼Œè¿ XAML å†™æ³•ä¹Ÿåƒï¼š</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nt">&lt;Border</span> <span class="na">BorderThickness=</span><span class="s">"1"</span> <span class="na">Margin=</span><span class="s">"50,34,526,348"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Border.BorderBrush&gt;</span>
        <span class="nt">&lt;demo:RevealBorderBrush</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Border.BorderBrush&gt;</span>
<span class="nt">&lt;/Border&gt;</span>
<span class="nt">&lt;Border</span> <span class="na">BorderThickness=</span><span class="s">"1"</span> <span class="na">Margin=</span><span class="s">"50,76,526,306"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Border.BorderBrush&gt;</span>
        <span class="nt">&lt;demo:RevealBorderBrush</span> <span class="na">Color=</span><span class="s">"White"</span> <span class="na">FallbackColor=</span><span class="s">"Gray"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Border.BorderBrush&gt;</span>
<span class="nt">&lt;/Border&gt;</span>
</pre></table></code></div></div><p>â–² æ¨¡æ‹Ÿå¾—å¾ˆåƒçš„ RevealBorderBrush çš„ XAML å†™æ³•</p><p>å½“ç„¶ï¼Œçª—å£èƒŒæ™¯é‚£å¼ å›¾æ˜¯ç›´æ¥ç”¨çš„é«˜æ–¯æ¨¡ç³Šæ•ˆæœï¼Œå¹¶ä¸æ˜¯äºšå…‹åŠ› Acrylic æ•ˆæœã€‚é‰´äºé‚£å¼ è¢«æ¨¡ç³Šå¾—çœ‹ä¸æ¸…çš„å›¾<strong>æ˜¯æˆ‘è‡ªå·±ç”»çš„</strong>ï¼Œæ‰€ä»¥æˆ‘ä¸€å®šè¦å•ç‹¬æ”¾å‡ºæ¥ç»™å¤§å®¶çœ‹ğŸ¤“ï¼</p><p>æˆ‘è‡ªå·±ç”»çš„å›¾ï¼Œä¸å¿ç›´è§†ï¼Œåªå¥½æ¨¡ç³Šæ‰ä½œä¸ºèƒŒæ™¯äº†ã€‚<a href="/static/posts/2018-04-05-16-17-15.png">è¯·ç‚¹å‡»æŸ¥çœ‹ï¼šå›¾ç‰‡</a></p><p>ä»¥ä¸‹æ˜¯æˆ‘åæ¥ä½¿ç”¨æ­¤æ¨¡æ‹Ÿçš„æ•ˆæœåˆ¶ä½œçš„åº”ç”¨ã€‚è¿™äº›åº”ç”¨è™½ç„¶çœ‹èµ·æ¥æ•´ä¸ªå„¿éƒ½å¾ˆåƒ UWP åº”ç”¨ï¼Œä½†éƒ½æ˜¯ 100% çº¯ WPFï¼›å› ä¸ºæˆ‘æ¨¡æ‹Ÿäº† UWP çš„é£æ ¼ï¼š</p><ul><li><a href="/post/wpf-simulate-native-window-style-using-window-chrome">WPF ä½¿ç”¨ WindowChromeï¼Œåœ¨è‡ªå®šä¹‰çª—å£æ ‡é¢˜æ çš„åŒæ—¶æœ€å¤§ç¨‹åº¦ä¿ç•™åŸç”Ÿçª—å£æ ·å¼ï¼ˆç±»ä¼¼ UWP/Chromeï¼‰ - walterlv</a><li><a href="/post/wpf-simulate-native-window-title-bar-buttons">WPF åº”ç”¨å®Œå…¨æ¨¡æ‹Ÿ UWP çš„æ ‡é¢˜æ æŒ‰é’® - walterlv</a></ul><p><strong>2019 å¹´ 1 æœˆæ›´æ–°ï¼š</strong></p><p><img data-proofer-ignore data-src="/static/posts/2019-01-23-reveal-brush-in-cloud-keyboard-pc.gif" alt="Cloud Keyboard" /><br /> â–² æºç åœ¨è¿™ä¸ªä»“åº“ï¼š<a href="https://github.com/walterlv/Walterlv.CloudKeyboard">Walterlv.CloudKeyboard</a></p><p><strong>2019 å¹´ 3 æœˆæ›´æ–°ï¼š</strong></p><p><img data-proofer-ignore data-src="/static/posts/2019-03-23-reveal-in-wpf-window.gif" alt="Diagnostics Window" /></p><h2 id="è¯ä¸å¤šè¯´çœ‹æºç ">è¯ä¸å¤šè¯´çœ‹æºç <a href="#è¯ä¸å¤šè¯´çœ‹æºç "><i class="fas fa-hashtag"></i></a></h2></h2><p>UWP é‡Œçš„ CompositionBrush æ˜¯ç”¨ä¸€ä¸ª ShaderEffect åšå‡ºæ‰€æœ‰æ§ä»¶çš„æ‰€æœ‰æ•ˆæœçš„ã€‚æ­£å¦‚ <a href="https://www.zhihu.com/people/minmin.gong/activities">å›é€†è€…</a> åœ¨ <a href="https://www.zhihu.com/question/59724483/answer/168191216?utm_medium=social&amp;utm_source=wechat_session">å¦‚ä½•è¯„ä»·å¾®è½¯åœ¨ Build 2017 ä¸Šæå‡ºçš„ Fluent Design Systemï¼Ÿ - çŸ¥ä¹</a> ä¸€æ–‡ä¸­è¯´çš„ï¼Œåªéœ€è¦æå°‘çš„è®¡ç®—é‡å°±èƒ½å®Œæˆã€‚</p><p>ä¸è¿‡ Win32 çª—å£å¹¶æ²¡æœ‰å¾—åˆ°çœ·æ‹ï¼Œæ‰€ä»¥æˆ‘åªå¥½è‡ªå·±å®ç°ã€‚ä½†é™äºåªèƒ½ä½¿ç”¨ WPF å†…å»ºæœºåˆ¶ï¼Œæ•…æ€§èƒ½ä¸Šå½“ç„¶ä¸èƒ½æ¯”äº†ã€‚ä½†åœ¨å°å‹é¡¹ç›®çš„å±€éƒ¨ç”¨ç”¨è¿˜æ˜¯éå¸¸ä¸é”™çš„â€”â€”å°¤å…¶æ˜¯ä¸ªäººé¡¹ç›®ï¼<em>ä¸è¿‡è¯è¯´ç°åœ¨ä¸ªäººé¡¹ç›®è°è¿˜ç”¨ WPF å‘¢</em> (é€ƒ</p><p>æ€è·¯æ˜¯ç”»ä¸€ä¸ªå¾„å‘æ¸å˜ï¼Œå³ <code class="language-plaintext highlighter-rouge">RadialGradientBrush</code>ï¼Œç„¶åå½“é¼ æ ‡åœ¨çª—å£å†…ç§»åŠ¨æ—¶ï¼Œæ”¹å˜å¾„å‘æ¸å˜çš„æ¸å˜ä¸­å¿ƒä¸ºé¼ æ ‡æ‰€åœ¨ç‚¹ã€‚</p><p>ä»¥ä¸‹æ˜¯å…¨éƒ¨æºç ã€‚<strong>ä¸è¦åœ¨æ„åŸºç±»å•¦ï¼WPF ä¸è®©æˆ‘ä»¬å®ç°è‡ªå·±çš„ Brushï¼Œæ‰€ä»¥åªå¥½ç”¨ MarkupExtension ç»•é“å®ç°äº†ã€‚</strong></p><p><strong>2019 å¹´ 3 æœˆæ›´æ–°ï¼š</strong>ä»¥ä¸‹æºç ä¸­ç°åœ¨ä½¿ç”¨äº†å…¨å±€å…‰ç…§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå°±ç®—ä½ çš„æ§ä»¶ä¸åœ¨ä¸€ä¸ªå›ºå®šçš„çª—å£ä¸­ï¼Œä¹Ÿä¼šä½¿ç”¨åˆ°å…‰ç…§æ•ˆæœäº†ã€‚</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
</pre><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.ComponentModel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Input</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Markup</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Media</span><span class="p">;</span>

<span class="c1">// ReSharper disable CheckNamespace</span>

<span class="k">namespace</span> <span class="nn">Walterlv.Effects</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Paints a control border with a reveal effect using composition brush and light effects.</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">RevealBorderBrushExtension</span> <span class="p">:</span> <span class="n">MarkupExtension</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="n">ThreadStatic</span><span class="p">]</span>
        <span class="k">private</span> <span class="k">static</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">RadialGradientBrush</span><span class="p">,</span> <span class="n">WeakReference</span><span class="p">&lt;</span><span class="n">FrameworkElement</span><span class="p">&gt;&gt;</span> <span class="n">_globalRevealingElements</span><span class="p">;</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// The color to use for rendering in case the &lt;see cref="MarkupExtension"/&gt; can't work correctly.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="n">Color</span> <span class="n">FallbackColor</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="n">Colors</span><span class="p">.</span><span class="n">White</span><span class="p">;</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Gets or sets a value that specifies the base background color for the brush.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="n">Color</span> <span class="n">Color</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="n">Colors</span><span class="p">.</span><span class="n">White</span><span class="p">;</span>

        <span class="k">public</span> <span class="n">Transform</span> <span class="n">Transform</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="n">Transform</span><span class="p">.</span><span class="n">Identity</span><span class="p">;</span>

        <span class="k">public</span> <span class="n">Transform</span> <span class="n">RelativeTransform</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="n">Transform</span><span class="p">.</span><span class="n">Identity</span><span class="p">;</span>

        <span class="k">public</span> <span class="kt">double</span> <span class="n">Opacity</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="m">1.0</span><span class="p">;</span>

        <span class="k">public</span> <span class="kt">double</span> <span class="n">Radius</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="m">100.0</span><span class="p">;</span>

        <span class="k">public</span> <span class="k">override</span> <span class="kt">object</span> <span class="nf">ProvideValue</span><span class="p">(</span><span class="n">IServiceProvider</span> <span class="n">serviceProvider</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// å¦‚æœæ²¡æœ‰æœåŠ¡ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚</span>
            <span class="k">if</span> <span class="p">(!(</span><span class="n">serviceProvider</span><span class="p">.</span><span class="nf">GetService</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">IProvideValueTarget</span><span class="p">))</span> <span class="k">is</span> <span class="n">IProvideValueTarget</span> <span class="n">service</span><span class="p">))</span> <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
            <span class="c1">// MarkupExtension åœ¨æ ·å¼æ¨¡æ¿ä¸­ï¼Œè¿”å› this ä»¥å»¶è¿Ÿæä¾›å€¼ã€‚</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">service</span><span class="p">.</span><span class="n">TargetObject</span><span class="p">.</span><span class="nf">GetType</span><span class="p">().</span><span class="n">Name</span><span class="p">.</span><span class="nf">EndsWith</span><span class="p">(</span><span class="s">"SharedDp"</span><span class="p">))</span> <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(!(</span><span class="n">service</span><span class="p">.</span><span class="n">TargetObject</span> <span class="k">is</span> <span class="n">FrameworkElement</span> <span class="n">element</span><span class="p">))</span> <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">DesignerProperties</span><span class="p">.</span><span class="nf">GetIsInDesignMode</span><span class="p">(</span><span class="n">element</span><span class="p">))</span> <span class="k">return</span> <span class="k">new</span> <span class="nf">SolidColorBrush</span><span class="p">(</span><span class="n">FallbackColor</span><span class="p">);</span>

            <span class="kt">var</span> <span class="n">brush</span> <span class="p">=</span> <span class="nf">CreateGlobalBrush</span><span class="p">(</span><span class="n">element</span><span class="p">);</span>
            <span class="k">return</span> <span class="n">brush</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="n">Brush</span> <span class="nf">CreateBrush</span><span class="p">(</span><span class="n">UIElement</span> <span class="n">rootVisual</span><span class="p">,</span> <span class="n">FrameworkElement</span> <span class="n">element</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">brush</span> <span class="p">=</span> <span class="nf">CreateRadialGradientBrush</span><span class="p">();</span>
            <span class="n">rootVisual</span><span class="p">.</span><span class="n">MouseMove</span> <span class="p">+=</span> <span class="n">OnMouseMove</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">brush</span><span class="p">;</span>

            <span class="k">void</span> <span class="nf">OnMouseMove</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">MouseEventArgs</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">UpdateBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="nf">GetPosition</span><span class="p">(</span><span class="n">element</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="n">Brush</span> <span class="nf">CreateGlobalBrush</span><span class="p">(</span><span class="n">FrameworkElement</span> <span class="n">element</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">brush</span> <span class="p">=</span> <span class="nf">CreateRadialGradientBrush</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">_globalRevealingElements</span> <span class="k">is</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CompositionTarget</span><span class="p">.</span><span class="n">Rendering</span> <span class="p">-=</span> <span class="n">OnRendering</span><span class="p">;</span>
                <span class="n">CompositionTarget</span><span class="p">.</span><span class="n">Rendering</span> <span class="p">+=</span> <span class="n">OnRendering</span><span class="p">;</span>
                <span class="n">_globalRevealingElements</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">RadialGradientBrush</span><span class="p">,</span> <span class="n">WeakReference</span><span class="p">&lt;</span><span class="n">FrameworkElement</span><span class="p">&gt;&gt;();</span>
            <span class="p">}</span>

            <span class="n">_globalRevealingElements</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">brush</span><span class="p">,</span> <span class="k">new</span> <span class="n">WeakReference</span><span class="p">&lt;</span><span class="n">FrameworkElement</span><span class="p">&gt;(</span><span class="n">element</span><span class="p">));</span>
            <span class="k">return</span> <span class="n">brush</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">OnRendering</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">_globalRevealingElements</span> <span class="k">is</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="kt">var</span> <span class="n">toCollect</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">RadialGradientBrush</span><span class="p">&gt;();</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">pair</span> <span class="k">in</span> <span class="n">_globalRevealingElements</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">var</span> <span class="n">brush</span> <span class="p">=</span> <span class="n">pair</span><span class="p">.</span><span class="n">Key</span><span class="p">;</span>
                <span class="kt">var</span> <span class="n">weak</span> <span class="p">=</span> <span class="n">pair</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">weak</span><span class="p">.</span><span class="nf">TryGetTarget</span><span class="p">(</span><span class="k">out</span> <span class="kt">var</span> <span class="n">element</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="nf">Reveal</span><span class="p">(</span><span class="n">brush</span><span class="p">,</span> <span class="n">element</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">toCollect</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">brush</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">brush</span> <span class="k">in</span> <span class="n">toCollect</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">_globalRevealingElements</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">brush</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">void</span> <span class="nf">Reveal</span><span class="p">(</span><span class="n">RadialGradientBrush</span> <span class="n">brush</span><span class="p">,</span> <span class="n">IInputElement</span> <span class="n">element</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">UpdateBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">,</span> <span class="n">Mouse</span><span class="p">.</span><span class="nf">GetPosition</span><span class="p">(</span><span class="n">element</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">UpdateBrush</span><span class="p">(</span><span class="n">RadialGradientBrush</span> <span class="n">brush</span><span class="p">,</span> <span class="n">Point</span> <span class="n">origin</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">IInputElement</span> <span class="n">element</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nf">IsUsingMouseOrStylus</span><span class="p">())</span>
            <span class="p">{</span>
                <span class="n">brush</span><span class="p">.</span><span class="n">GradientOrigin</span> <span class="p">=</span> <span class="n">origin</span><span class="p">;</span>
                <span class="n">brush</span><span class="p">.</span><span class="n">Center</span> <span class="p">=</span> <span class="n">origin</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">brush</span><span class="p">.</span><span class="n">Center</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Point</span><span class="p">(</span><span class="kt">double</span><span class="p">.</span><span class="n">NegativeInfinity</span><span class="p">,</span> <span class="kt">double</span><span class="p">.</span><span class="n">NegativeInfinity</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="n">RadialGradientBrush</span> <span class="nf">CreateRadialGradientBrush</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">brush</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RadialGradientBrush</span><span class="p">(</span><span class="n">Color</span><span class="p">,</span> <span class="n">Colors</span><span class="p">.</span><span class="n">Transparent</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">MappingMode</span> <span class="p">=</span> <span class="n">BrushMappingMode</span><span class="p">.</span><span class="n">Absolute</span><span class="p">,</span>
                <span class="n">RadiusX</span> <span class="p">=</span> <span class="n">Radius</span><span class="p">,</span>
                <span class="n">RadiusY</span> <span class="p">=</span> <span class="n">Radius</span><span class="p">,</span>
                <span class="n">Opacity</span> <span class="p">=</span> <span class="n">Opacity</span><span class="p">,</span>
                <span class="n">Transform</span> <span class="p">=</span> <span class="n">Transform</span><span class="p">,</span>
                <span class="n">RelativeTransform</span> <span class="p">=</span> <span class="n">RelativeTransform</span><span class="p">,</span>
                <span class="n">Center</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Point</span><span class="p">(</span><span class="kt">double</span><span class="p">.</span><span class="n">NegativeInfinity</span><span class="p">,</span> <span class="kt">double</span><span class="p">.</span><span class="n">NegativeInfinity</span><span class="p">),</span>
            <span class="p">};</span>
            <span class="k">return</span> <span class="n">brush</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="kt">bool</span> <span class="nf">IsUsingMouseOrStylus</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">device</span> <span class="p">=</span> <span class="n">Stylus</span><span class="p">.</span><span class="n">CurrentStylusDevice</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">device</span> <span class="k">is</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">device</span><span class="p">.</span><span class="n">TabletDevice</span><span class="p">.</span><span class="n">Type</span> <span class="p">==</span> <span class="n">TabletDeviceType</span><span class="p">.</span><span class="n">Stylus</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><hr /><p><strong>å‚è€ƒèµ„æ–™</strong></p><ul><li><a href="https://docs.microsoft.com/zh-cn/windows/uwp/design/style/reveal?wt.mc_id=MVP">çªå‡ºæ˜¾ç¤º - UWP app developer - Microsoft Docs</a></ul><p> æœ¬æ–‡ä¼šç»å¸¸æ›´æ–°ï¼Œè¯·é˜…è¯»åŸæ–‡ï¼š <a href="/post/fluent-design-reveal-brush-in-wpf.html">https://blog.walterlv.com/post/fluent-design-reveal-brush-in-wpf.html</a> ï¼Œä»¥é¿å…é™ˆæ—§é”™è¯¯çŸ¥è¯†çš„è¯¯å¯¼ï¼ŒåŒæ—¶æœ‰æ›´å¥½çš„é˜…è¯»ä½“éªŒã€‚</p><p> <a rel="çŸ¥è¯†å…±äº«è®¸å¯åè®®" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"> <img alt="çŸ¥è¯†å…±äº«è®¸å¯åè®®" src="https://blog.walterlv.com/assets/img/by-nc-sa.svg" /> </a></p><p> æœ¬ä½œå“é‡‡ç”¨ <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a> è¿›è¡Œè®¸å¯ã€‚æ¬¢è¿è½¬è½½ã€ä½¿ç”¨ã€é‡æ–°å‘å¸ƒï¼Œä½†åŠ¡å¿…ä¿ç•™æ–‡ç« ç½²å å•æ¯… ï¼ˆåŒ…å«é“¾æ¥ï¼š <a href="https://blog.walterlv.com">https://blog.walterlv.com</a> ï¼‰ï¼Œä¸å¾—ç”¨äºå•†ä¸šç›®çš„ï¼ŒåŸºäºæœ¬æ–‡ä¿®æ”¹åçš„ä½œå“åŠ¡å¿…ä»¥ç›¸åŒçš„è®¸å¯å‘å¸ƒã€‚å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯· <a href="mailto:walter.lv@qq.com">ä¸æˆ‘è”ç³» (walter.lv@qq.com)</a> ã€‚</p></div><div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="comments-wrapper"> ç™»å½• GitHub è´¦å·è¿›è¡Œè¯„è®º</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">åˆ†äº«</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=æµç•…è®¾è®¡ Fluent Design System ä¸­çš„å…‰ç…§æ•ˆæœ RevealBrushï¼ŒWPF ä¹Ÿèƒ½æ¨¡æ‹Ÿå®ç°å•¦ï¼ - walterlv&url=https://blog.walterlv.com/post/fluent-design-reveal-brush-in-wpf.html" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=æµç•…è®¾è®¡ Fluent Design System ä¸­çš„å…‰ç…§æ•ˆæœ RevealBrushï¼ŒWPF ä¹Ÿèƒ½æ¨¡æ‹Ÿå®ç°å•¦ï¼ - walterlv&u=https://blog.walterlv.com/post/fluent-design-reveal-brush-in-wpf.html" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=æµç•…è®¾è®¡ Fluent Design System ä¸­çš„å…‰ç…§æ•ˆæœ RevealBrushï¼ŒWPF ä¹Ÿèƒ½æ¨¡æ‹Ÿå®ç°å•¦ï¼ - walterlv&url=https://blog.walterlv.com/post/fluent-design-reveal-brush-in-wpf.html" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="åˆ†äº«é“¾æ¥" title-succeed="é“¾æ¥å·²å¤åˆ¶ï¼"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">æœ€è¿‘æ›´æ–°</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/post/monitor-foreground-window-on-windows">å¦‚ä½•åœ¨æ§åˆ¶å°ç¨‹åºä¸­ç›‘å¬ Windows å‰å°çª—å£çš„å˜åŒ–</a><li><a href="/post/how-to-start-a-process-with-environment-variables-without-code">åœ¨ Windows ä¸Šå¦‚ä½•åœ¨å¯åŠ¨ç¨‹åºæ—¶å•ç‹¬ä¸ºè¿™ä¸ªç¨‹åºæŒ‡å®šç¯å¢ƒå˜é‡ï¼Œè€Œä¸éœ€è¦ç¼–å†™ä»»ä½•ä»£ç æˆ–è„šæœ¬</a><li><a href="/post/wpf-draw-a-hsl-hsb-palette-using-hlsl">WPF åƒç´ ç€è‰²å™¨è¿›é˜¶ï¼šä½¿ç”¨ HLSL ç¼–å†™ä¸€ä¸ªé«˜æ€§èƒ½çš„å®æ—¶å˜åŒ–çš„ HSL/HSV/HSB è°ƒè‰²ç›˜</a><li><a href="/post/create-wpf-pixel-shader-effects-using-shazzam-shader-editor.html">WPF åƒç´ ç€è‰²å™¨å…¥é—¨ï¼šä½¿ç”¨ Shazzam Shader Editor ç¼–å†™ HLSL åƒç´ ç€è‰²å™¨ä»£ç </a><li><a href="/post/where-is-the-windows-10-native-icons.html">Windows 10 è‡ªå¸¦é‚£ä¹ˆå¤šå›¾æ ‡ï¼Œå»å“ªé‡Œæ‰¾å‘¢ï¼Ÿ</a></ul></div><div id="access-tags"><div class="panel-heading">çƒ­é—¨æ ‡ç­¾</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/dotnet/">dotnet</a> <a class="post-tag" href="/tags/csharp/">csharp</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/wpf/">wpf</a> <a class="post-tag" href="/tags/visualstudio/">visualstudio</a> <a class="post-tag" href="/tags/msbuild/">msbuild</a> <a class="post-tag" href="/tags/uwp/">uwp</a> <a class="post-tag" href="/tags/nuget/">nuget</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/roslyn/">roslyn</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">æ–‡ç« å†…å®¹</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><section class="comments"> <script src="https://utteranc.es/client.js" repo="walterlv/BlogComments" issue-term="pathname" theme="preferred-color-scheme" crossorigin="anonymous" async> </script></section></div></div></div><footer class="d-flex flex-column w-100 justify-content-center"><div id="analytics-box"> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-108101550-1"></script> <script> document.addEventListener("DOMContentLoaded", function (event) { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-108101550-1'); }); </script> <script async type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1264408226'%3E%3C/span%3E%3Cscript src='//s22.cnzz.com/z_stat.php%3Fid%3D1264408226%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script></div><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> Â© 2014-2024 <a href="https://github.com/walterlv">walterlv</a>. <span data-toggle="tooltip" data-placement="top" title="é™¤éå¦æœ‰è¯´æ˜ï¼Œæœ¬ç½‘ç«™ä¸Šçš„åšå®¢æ–‡ç« å‡ç”±å•æ¯…æŒ‰ç…§çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™… (CC BY 4.0) è®¸å¯åè®®è¿›è¡Œæˆæƒã€‚">ä¿ç•™éƒ¨åˆ†æƒåˆ©ã€‚</span></p></div><div class="footer-right"><p class="mb-0"> æœ¬ç«™ç”± <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> ç”Ÿæˆï¼ŒåŸºäº <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> ä¸»é¢˜ä¿®æ”¹ã€‚</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">çƒ­é—¨æ ‡ç­¾</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/dotnet/">dotnet</a> <a class="post-tag" href="/tags/csharp/">csharp</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/wpf/">wpf</a> <a class="post-tag" href="/tags/visualstudio/">visualstudio</a> <a class="post-tag" href="/tags/msbuild/">msbuild</a> <a class="post-tag" href="/tags/uwp/">uwp</a> <a class="post-tag" href="/tags/nuget/">nuget</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/roslyn/">roslyn</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">æœç´¢ç»“æœä¸ºç©º</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
