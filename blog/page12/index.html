<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="天前"><meta name="hour-prompt" content="小时前"><meta name="minute-prompt" content="分钟前"><meta name="justnow-prompt" content="刚刚"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="walterlv" /><meta name="author" content="吕毅" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="吕毅的博客。.NET/C#/WinUI/MAUI/WPF Windows 应用开发者，微软最有价值专家，Microsoft MVP。" /><meta property="og:description" content="吕毅的博客。.NET/C#/WinUI/MAUI/WPF Windows 应用开发者，微软最有价值专家，Microsoft MVP。" /><link rel="canonical" href="https://blog.walterlv.com/blog/page12/" /><meta property="og:url" content="https://blog.walterlv.com/blog/page12/" /><meta property="og:site_name" content="walterlv" /><link rel="prev" href="https://blog.walterlv.com/blog/page11/" /><link rel="next" href="https://blog.walterlv.com/blog/page13/" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="walterlv" /><meta name="twitter:site" content="@_lvyi_" /><meta name="twitter:creator" content="@吕毅" /> <script type="application/ld+json"> {"description":"吕毅的博客。.NET/C#/WinUI/MAUI/WPF Windows 应用开发者，微软最有价值专家，Microsoft MVP。","headline":"walterlv","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://blog.walterlv.com/assets/img/logo.png"},"name":"吕毅"},"url":"https://blog.walterlv.com/blog/page12/","author":{"@type":"Person","name":"吕毅"},"@type":"WebPage","@context":"https://schema.org"}</script><title>walterlv</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="walterlv"><meta name="application-name" content="walterlv"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="topbar-wrapper" class="row topbar-down"><div id="topbar" class="col-12 d-flex h-100 align-items-center"><div id="topbar-logoside" class="col"> <a id="topbar-logo" href="https://blog.walterlv.com" alt="avatar"> <img src="/assets/img/logo.png" alt="avatar" onerror="this.style.display='none'"> </a> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i> <a id="topbar-title" class="site-title" href="https://blog.walterlv.com" alt="walterlv"> walterlv </a></div><div id="topbar-searchside" class="justify-content-center col-5"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >取消</span></div><div class="col"></div></div></div><div id="sidebar" class="d-flex flex-column align-items-end" lang="zh-CN"><div class="sidebar-box post-item-box profile-wrapper text-center"><div class="site-title mt-3"> <a href="/">吕毅</a></div><div class="site-subtitle font-italic">.NET and Windows App Developer, Microsoft MVP</div></div><ul class="sidebar-box post-item-box"><li class="nav-item active"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/friends/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>朋友和收藏</span> </a><li class="nav-item"> <a href="/mind/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>胡思乱想</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/walterlv" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/_lvyi_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['walter.lv','qq.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper"><div id="main"><div class="row alone"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="post-list"><div class="post-preview"><h1> <a href="/post/msbuild-special-characters.html">MSBuild 中的特殊字符（$ @ % 等）：含义、用法以及转义</a></h1><div class="post-content"><p> 在 MSBuild 中有一些特殊字符，如 $ @ % &#39; 等，本文介绍他们的含义，如何使用他们，以及你真的需要这些字符的时候如何编写他们。 特殊字符 MSBuild 中有这些特殊字符： $ @ % &#39; ; ? * 含义和用法 $ 引用一个属性或者环境变量。 &amp;lt;Project&amp;gt; &amp;lt;ItemGroup&amp;gt; &amp;...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-24 20:48:21 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-24, 20:48 +0800" >2019-04-24</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="752 字"> <em>4 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/msbuild-referencing-metadata.html">在项目文件 csproj 中或者 MSBuild 的 Target 中使用 % 引用集合中每一项的属性</a></h1><div class="post-content"><p> 在编写项目文件或者 MSBuild Target 文件的时候，我们经常会使用 &amp;lt;Foo Include=&quot;Identity&quot; /&amp;gt; 来定义集合中的一项。在定义的同时，我们也会额外指定一些属性。 然而这些属性如何拿到并且使用呢？本文将介绍使用方法。 将下面的代码放到你项目文件的末尾，最后一个 &amp;lt;/Project&amp;gt; 的前面，可以在编译的时候看到两个新的警告。 &amp;...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-24 20:35:25 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-24, 20:35 +0800" >2019-04-24</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="403 字"> <em>2 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/command-line-usages-of-7z.html">使用 7-Zip 的命令行版本来压缩和解压文件</a></h1><div class="post-content"><p> 7-Zip 也有一个简短的名称 7z。它的原生 UI 确实不怎么好看，非常有年代感；不过 7-Zip 的强大之处不在于 UI，而在于其算法和各种文件的支持情况。不过，7-Zip 提供了命令行的版本，让你摒除一切杂念，专心处理压缩文件的工作。 本文介绍如何通过命令行来使用 7-Zip。因为使用命令行，所以你甚至可以自动化地完成压缩文件的各种处理。 如何找到 7-Zip 的命令行版本...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-24 09:55:21 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-24, 09:55 +0800" >2019-04-24</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1043 字"> <em>5 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/the-subpixel-rendering-of-text.html">ClearType 的原理：Windows 上文本的亚像素控制</a></h1><div class="post-content"><p> 有位小伙伴问我为什么他电脑上的文本看起来比较虚。我去看了下，发现他电脑上关掉了 ClearType。 微软的 ClearType 技术通过控制亚像素来使得文本显示更为清晰。本文代理了解 Windows 系统上的文本是如何通过亚像素控制使得显示更为清晰的。 ClearType 打开和关闭之后的效果 看下图！同样的文本，在不同大小下以及开关 ClearType 下的显示效果： ...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-23 19:17:48 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-23, 19:17 +0800" >2019-04-23</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1350 字"> <em>7 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/run-commands-using-csharp.html">C#/.NET 使用 git 命令行来操作 git 仓库</a></h1><div class="post-content"><p> 我们可以在命令行中操作 git，但是作为一名程序员，如果在大量重复的时候还手动敲命令行，那就太笨了。 本文介绍使用 C# 编写一个 .NET 程序来自动化地使用 git 命令行来操作 git 仓库。 这是一篇很基础的入门文章。 最简单的运行 git 命令的代码 在 .NET 中，运行一个命令只需要使用 Process.Start 开启一个子进程就好了。于是要运行一个 git ...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-21 20:36:42 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-21, 20:36 +0800" >2019-04-21</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1073 字"> <em>5 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/customizing-keyboard-shortcuts-in-visual-studio.html">如何快速自定义 Visual Studio 中部分功能的快捷键</a></h1><div class="post-content"><p> Visual Studio 中有些自带的快捷键与现有软件有冲突，那么如何修改这些快捷键让这些功能正常工作起来呢？ 打开快捷键设置界面 在 Visual Studio 中打开 “工具 -&amp;gt; 选项”，打开选项设置界面。在其中找到 “环境 -&amp;gt; 键盘” 项。我们设置快捷键的地方就在这里。 修改一个现有功能的快捷键 默认情况下，在 Visual Studio 2019...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-21 20:06:45 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-21, 20:06 +0800" >2019-04-21</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="453 字"> <em>2 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/get-absolute-path-in-msbuild-targets.html">如何在 MSBuild 的项目文件 csproj 中获取绝对路径</a></h1><div class="post-content"><p> 通常我们能够在 csproj 文件中仅仅使用相对路径就完成大多数的编译任务。但是有些外部命令的执行需要用到绝对路径，或者对此外部工具来说，相对路径具有不同的含义。这个时候，就需要将相对路径在 csproj 中转换为绝对路径来使用。 本文介绍如何在项目文件 csproj 中将一个相对路径转换为绝对路径。 在 MSBuild 4.0 中，可以在 csproj 中编写调用 PowerShe...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-16 18:16:07 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-16, 18:16 +0800" >2019-04-16</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="350 字"> <em>1 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/how-to-write-msbuild-conditions.html">MSBuild 如何编写带条件的属性、集合和任务 Condition？</a></h1><div class="post-content"><p> 在项目文件 csproj 中，通过编写带条件的属性（PropertyGroup）、集合（ItemGroup）和任务（Target）可以完成更加复杂的项目文件的功能。 本文介绍如何编写带条件的 MSBuild 项。 Condition 如果要给你的 MSBuild 项附加条件，那么加上 Condition 特性即可。 Condition 可以写在任何地方，例如 Property...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-16 17:27:46 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-16, 17:27 +0800" >2019-04-16</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="702 字"> <em>3 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/wipe-out-null-reference-exception.html">NullReferenceException，就不应该存在！</a></h1><div class="post-content"><p> 如果要你说出 .NET 中的三个异常，NullReferenceException 一定会成为其中一个；如果说出 .NET 中的一个异常，NullReferenceException 也会被大多数人说出来。它让这么多人印象深刻，是因为它在项目中实在是太常见了，常见到每一个 C#/.NET 入门者必然会遇到。 然而，这个异常本不应该存在！ null The worst mi...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-16 10:47:57 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-16, 10:47 +0800" >2019-04-16</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1724 字"> <em>9 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/april-event-everything-can-be-done-using-csharp.html">C# 跨设备前后端开发探索</a></h1><div class="post-content"><p> 每个人都拥有 好奇心，好奇心驱使着我们总是去尝试做一些有趣的事情。 带起你的好奇心，本文将使用 C# 开发各种各样好玩的东西。 本文内容已加入 2019 年 4 月 13 日的广州 .NET 俱乐部第 2 届线下沙龙。 0x00 序章 好奇心 每个人都拥有 好奇心，好奇心驱使着我们总是去尝试做一些有趣的事情。 比如这件事： 在好奇心的驱使下，我们立刻 尝试 我们...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-16 08:54:48 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-16, 08:54 +0800" >2019-04-16</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1690 字"> <em>9 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/posts-for-learning-dotnet-build-nuget-roslyn.html">从零开始学习 dotnet 编译过程和 Roslyn 源码分析</a></h1><div class="post-content"><p> 本文整理我和 林德熙 学习的 dotnet 编译知识、Roslyn 源码分析知识，NuGet 知识。通过阅读本文可以从零散的碎片化博客中得到从零开始学习的轨迹。 本文服务于 微软技术暨生态大会 2018 课程，你可以学习预编译框架相关的技术原理。 SourceYard 性能数据 SourceYard 通过将公共组件的源代码和产品源代码合并来提升性能。 以下是这部分的性能数据： ...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:41:03 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:41 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1848 字"> <em>10 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/create-uwp-app-from-zero-0.html">(1/2) 为了理解 UWP 的启动流程，我从零开始创建了一个 UWP 程序</a></h1><div class="post-content"><p> 每次使用 Visual Studio 的模板创建一个 UWP 程序，我们会在项目中发现大量的项目文件、配置、应用启动流程代码和界面代码。然而这些文件在 UWP 程序中到底是如何工作起来的？ 我从零开始创建了一个 UWP 程序，用于探索这些文件的用途，了解 UWP 程序的启动流程。 本文分为两个部分： 从零开始创建一个 UWP 项目并完成部署 从零开始编写一个 UWP 应用...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:40:58 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:40 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2481 字"> <em>13 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/how-to-define-preprocessor-symbols.html">.NET/C# 项目如何优雅地设置条件编译符号？</a></h1><div class="post-content"><p> 条件编译符号指的是 Conditional Compilation Symbols。你可以在 Visual Studio 的项目属性中设置，也可以直接在项目文件中写入 DefineConstants 属性。 不过对于不同种类的项目，我建议使用不同的设置方法。本文将介绍如何设置条件编译符。 对于新旧格式的差别或者迁移，可以查看我的其他博客： 理解 C# 项目 csproj 文件...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:40:26 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:40 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="868 字"> <em>4 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/disable-generating-binding-redirects.html">.NET 应用启用与禁用自动生成绑定重定向 (bindingRedirect)，解决不同版本 dll 的依赖问题</a></h1><div class="post-content"><p> 当你的项目中多个不同的项目以及不同的依赖存在不同的依赖程序集时，可能会因为依赖于不同版本的程序集而产生冲突。而绑定重定向可以帮助解决不同程序集的依赖版本不同的问题，使整个程序使用统一个版本的 dll 来运行整个应用程序。 然而，如果我们就是需要使用一个分离的不同版本，那么我们就需要禁用掉自动生成绑定重定向。本文介绍如何禁用自动生成绑定重定向。 本文的结论只有一句，就是在项目中设置属性...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:40:20 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:40 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1081 字"> <em>6 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/visual-studio-enable-native-code-debugging.html">在 Visual Studio 新旧不同的 csproj 项目格式中启用混合模式调试程序（开启本机代码调试）</a></h1><div class="post-content"><p> 因为我使用 Visual Studio 主要用来编写 .NET 托管程序，所以平时调试的时候是仅限托管代码的。不过有时需要在托管代码中混合调试本机代码，那么就需要额外在项目中开启本机代码调试。 本文介绍如何开启本机代码调试。 本文涉及到新旧 csproj 项目格式，不懂这个也不影响你完成开启本机代码调试。不过如果你希望了解，可以阅读：将 WPF、UWP 以及其他各种类型的旧 cs...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:40:06 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:40 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="680 字"> <em>3 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/properties-not-correct-in-targets-file-imported-to-old-csproj-file.html">Visual Studio 2017 以前的旧格式的 csproj Import 进来的 targets 文件有时不能正确计算属性（PropertyGroup）和集合（ItemGroup）</a></h1><div class="post-content"><p> 我在之前的博客中有教大家如何编写 NuGet 工具包，其中就有编写 .targets 文件。 我在实际的使用中，发现 Visual Studio 2017 带来的 Sdk 风格的 csproj 格式基本上没有多少坑；然而旧的 csproj 文件却总是不能完美的运行，总是出错。关键是，不是每台电脑都出错，不是每个时机都出错。 本文将讲一些坑。 本文的前置知识 你可能需要了解 c...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:40:00 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:40 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="906 字"> <em>5 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/the-empty-nuget-package-import-stamp.html">csproj 文件中那个空的 NuGetPackageImportStamp 是干什么的？</a></h1><div class="post-content"><p> 当我们在传统格式的 csproj 项目文件中安装 NuGet 包后，有时会在项目文件中发现空的 NuGetPackageImportStamp 节点。这个空的节点让我们这波强迫症患者觉得有点难以接受，关键是手工删除之后也没发现有什么副作用。 那么为什么会出现这个节点？它究竟有什么作用？ 空的 NuGetPackageImportStamp 节点 NuGetPackageImpo...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:39:51 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:39 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1305 字"> <em>7 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/write-multiple-main-and-related-startup-codes.html">.NET/C# 中你可以在代码中写多个 Main 函数，然后按需要随时切换</a></h1><div class="post-content"><p> .NET/C# 程序从 Main 函数开始执行，基本上各种书籍资料都是这么写的。不过，我们可以写多个 Main 函数，然后在项目文件中设置应该选择哪一个 Main 函数。 你可能会觉得这样没有什么用，不过如果你的应用程序在不同的编译条件下有不同的启动代码，或者你需要持续去大范围修改启动代码，那么做一个 Main 函数的选择器是一个不错的选择。 在哪里选择 Main？ 在带有 M...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:39:32 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:39 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1431 字"> <em>7 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/prevent-nuget-package-upgrade.html">阻止某个 NuGet 包意外升级</a></h1><div class="post-content"><p> 出于兼容性考虑，我们可能不再更新某个项目的 NuGet 包。典型的情况是软件版本进行了大规模的不兼容的升级，需要对旧格式的数据进行读取，以便迁移到新格式的数据。 然而，团队开发的软件可能因为某个小伙伴不知道这样的历史问题，从而手抖将某个不应该更新的 NuGet 包更新了，于是迁移就挂了。 本文提供了一种方法来避免某些特定 NuGet 包的升级。 如果你只关心结果，请直接前往最后一节...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:38:45 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:38 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1070 字"> <em>5 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/use-msbuild-sdk-extras-for-wpf-and-uwp.html">Sdk 风格的 csproj 对 WPF/UWP 支持不太好？有第三方 SDK 可以用！MSBuild.Sdk.Extras</a></h1><div class="post-content"><p> 自从微软推出 .NET Core 以来，新的项目文件格式以其优秀的可扩展性正吸引着更多项目采用。然而——微软官方的 WPF/UWP 项目模板依然还在采用旧的 csproj 格式！ 这只是因为——在 .NET Core 3.0 以前，基于 Microsoft.NET.Sdk 的官方 SDK 依然对 WPF/UWP 支持不够友好。 为什么要使用第三方的 SDK？ 关于项目文件格式的...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:38:30 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:38 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="932 字"> <em>5 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/migrate-nuget-package-from-powershell-to-props-and-targets.html">如何最快速地将旧的 NuGet 包 (2.x, packages.config) 升级成新的 NuGet 包 (4.x, PackageReference) </a></h1><div class="post-content"><p> 最近我将项目格式进行了升级，从旧的 csproj 升级成了新的 csproj；NuGet 包管理的方式也从 packages.config 升级成了 PackageReference。然而迁移完才发现，这个项目竟然还依赖了大量的从 NuGet 2.x 时代发布的 NuGet 包，这些包并不能在 PackageReference 下好好工作。 于是，我准备将所有这些包都进行升级。本文将介绍最...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:37:27 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:37 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1105 字"> <em>6 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/understand-the-csproj.html">理解 C# 项目 csproj 文件格式的本质和编译流程</a></h1><div class="post-content"><p> 写了这么多个 C# 项目，是否对项目文件 csproj 有一些了解呢？Visual Studio 是怎么让 csproj 中的内容正确显示出来的呢？更深入的，我能够自己扩展 csproj 的功能吗？ 本文将直接从 csproj 文件格式的本质来看以上这些问题。 阅读本文，你将： 可以通读 csproj 文件，并说出其中每一行的含义 可以手工修改 csproj 文件，以实现...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:37:21 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:37 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5014 字"> <em>27 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/migrate-packages-config-to-package-reference.html">自动将 NuGet 包的引用方式从 packages.config 升级为 PackageReference</a></h1><div class="post-content"><p> 在前段时间我写了一篇迁移 csproj 格式的博客 将 WPF、UWP 以及其他各种类型的旧 csproj 迁移成 Sdk 风格的 csproj，不过全过程是手工进行的，而且到最后处理 XAML 问题也非常头疼。 现在，我们可以利用工具自动地完成这个过程。当然，工具并不将 csproj 格式进行迁移，而是在不迁移格式的情况下，使用到 PackageReference 方式 NuGet 引用...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:37:05 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:37 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1239 字"> <em>6 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/semantic-version.html">语义版本号（Semantic Versioning）</a></h1><div class="post-content"><p> 版本号格式不陌生吧，.NET 传统的版本号格式类似这样 1.5.1254.0。本文将推荐一种新的版本号格式——语义版本号，格式类似这样 1.4.6-beta。我推荐语义版本号是因为这样的版本号自包含语义，而且这样的语义能够在版本库中体现出来。 传统的版本号 如果你只是知道传统版本号由四个部分组成，那么建议去官方文档 Assembly Versioning 了解一下这种版本号的定义...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:36:54 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:36 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1134 字"> <em>6 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/known-properties-in-csproj.html">项目文件中的已知属性（知道了这些，就不会随便在 csproj 中写死常量啦）</a></h1><div class="post-content"><p> 知道了 csproj 文件中的一些常用属性，修改文件的时候就不会写很多的垃圾代码。 “项目文件中的已知属性系列”分为两个部分： 本文：项目文件中的已知属性（知道了这些，就不会随便在 csproj 中写死常量啦） - 吕毅 项目文件中的已知 NuGet 属性（使用这些属性，创建 NuGet 包就可以不需要 nuspec 文件啦） - 吕毅 什么？你的 csproj 文件太...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:36:45 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:36 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1817 字"> <em>10 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/configure-projects-to-target-multiple-platforms.html">让一个 csproj 项目指定多个开发框架</a></h1><div class="post-content"><p> 可移植类库、共享项目、.NET Standard 项目都能够帮我们完成跨多个 .NET SDK 的单一项目开发，但它们的跨 SDK 开发都有些限制。现在，我们又有新的方式能够跨多个 .NET SDK 开发了，这就是使用新的 csproj 文件格式。 看看拥有多个开发框架的项目长什么样吧！ ▲ 多 SDK 项目 这个是我和 erdao 在 GitHub 上开源项目 dotnet-c...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-12 09:36:19 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-12, 09:36 +0800" >2019-04-12</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1106 字"> <em>6 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/create-delegate-to-improve-reflection-performance.html">.NET Core/Framework 创建委托以大幅度提高反射调用的性能</a></h1><div class="post-content"><p> 都知道反射伤性能，但不得不反射的时候又怎么办呢？当真的被问题逼迫的时候还是能找到解决办法的。 为反射得到的方法创建一个委托，此后调用此委托将能够提高近乎直接调用方法本身的性能。（当然 Emit 也能够帮助我们显著提升性能，不过直接得到可以调用的委托不是更加方便吗？） 性能对比数据 ▲ 没有什么能够比数据更有说服力（注意后面两行是有秒数的） 可能我还需要解释一下那五行数据的含...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-04-04 19:21:42 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-04-04, 19:21 +0800" >2019-04-04</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1429 字"> <em>7 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/bring-thread-switching-tasks-to-csharp-for-wpf.html">将 C++/WinRT 中的线程切换体验带到 C# 中来（WPF 版本）</a></h1><div class="post-content"><p> 如果你要在 WPF 程序中使用线程池完成一个特殊的任务，那么使用 .NET 的 API Task.Run 并传入一个 Lambda 表达式可以完成。不过，使用 Lambda 表达式会带来变量捕获的一些问题，比如说你需要区分一个变量作用于是在 Lambda 表达式中，还是当前上下文全局（被 Lambda 表达式捕获到的变量）。然后，在静态分析的时候，也难以知道此 Lambda 表达式在整个方法...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-03-30 09:13:12 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-03-30, 09:13 +0800" >2019-03-30</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2634 字"> <em>14 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/case-insensitive-in-git-rename.html">解决 Git 重命名时遇到的大小写不敏感的问题</a></h1><div class="post-content"><p> Windows/Mac OS 操作系统文件的大小写是不敏感的，不管文件路径是何种奇怪的大小写，我们始终可以以另一种大小写的方式访问到这个路径种的文件或者文件夹。Linux 操作系统文件的大小写却是敏感的，不同大小写意味着不同的路径。于是，Windows 下的 A 文件在 Docs 文件夹下，B 文件在 docs 文件夹下，最终效果是 A B 都在 docs 文件夹下；而同样的情况放到 Lin...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-03-29 17:19:06 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-03-29, 17:19 +0800" >2019-03-29</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1594 字"> <em>8 分钟</em></span></div></div></div><div class="post-preview"><h1> <a href="/post/when-wpf-commands-update-their-states.html">WPF 的命令的自动刷新时机——当你 CanExecute 会返回 true 但命令依旧不可用时可能是这些原因</a></h1><div class="post-content"><p> 在 WPF 中，你可以使用 Command=&quot;{Binding WalterlvCommand}&quot; 的方式来让 XAML 中的一个按钮或其他控件绑定一个命令。这样，按钮的可用性会自动根据 WalterlvCommand 当前 CanExecute 的状态来改变。这本是一个非常智能的特性，直到你可能发现你按钮的可用性状态不正确…… 本文介绍默认情况下，WPF 在 UI 上的这些命令会在什么时...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="timeago" date="2019-03-29 16:43:27 +0800" data-toggle="tooltip" data-placement="bottom" title="2019-03-29, 16:43 +0800" >2019-03-29</em> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="720 字"> <em>4 分钟</em></span></div></div></div></div><ul class="pagination align-items-center mt-4 mb-0 pl-lg-2"><li class="page-item "> <a class="page-link btn-box-shadow" href="/blog/page11/" aria-label="previous-page"> <i class="fas fa-angle-left"></i> </a><li class="page-item "> <a class="page-link btn-box-shadow" href="/blog/">1</a><li class="page-item disabled"> <span class="page-link btn-box-shadow">...</span><li class="page-item "> <a class="page-link btn-box-shadow" href="/blog/page11/">11</a><li class="page-item active"> <a class="page-link btn-box-shadow" href="/blog/page12/">12</a><li class="page-item "> <a class="page-link btn-box-shadow" href="/blog/page13/">13</a><li class="page-item disabled"> <span class="page-link btn-box-shadow">...</span><li class="page-item "> <a class="page-link btn-box-shadow" href="/blog/page23/">23</a><li class="page-index align-middle"> <span>12</span> <span class="text-muted">/ 23</span><li class="page-item "> <a class="page-link btn-box-shadow" href="/blog/page13/" aria-label="next-page"> <i class="fas fa-angle-right"></i> </a></ul></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/post/monitor-foreground-window-on-windows">如何在控制台程序中监听 Windows 前台窗口的变化</a><li><a href="/post/how-to-start-a-process-with-environment-variables-without-code">在 Windows 上如何在启动程序时单独为这个程序指定环境变量，而不需要编写任何代码或脚本</a><li><a href="/post/wpf-draw-a-hsl-hsb-palette-using-hlsl">WPF 像素着色器进阶：使用 HLSL 编写一个高性能的实时变化的 HSL/HSV/HSB 调色盘</a><li><a href="/post/create-wpf-pixel-shader-effects-using-shazzam-shader-editor.html">WPF 像素着色器入门：使用 Shazzam Shader Editor 编写 HLSL 像素着色器代码</a><li><a href="/post/where-is-the-windows-10-native-icons.html">Windows 10 自带那么多图标，去哪里找呢？</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/dotnet/">dotnet</a> <a class="post-tag" href="/tags/csharp/">csharp</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/wpf/">wpf</a> <a class="post-tag" href="/tags/visualstudio/">visualstudio</a> <a class="post-tag" href="/tags/msbuild/">msbuild</a> <a class="post-tag" href="/tags/uwp/">uwp</a> <a class="post-tag" href="/tags/nuget/">nuget</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/roslyn/">roslyn</a></div></div></div></div></div><footer class="d-flex flex-column w-100 justify-content-center"><div id="analytics-box"> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-108101550-1"></script> <script> document.addEventListener("DOMContentLoaded", function (event) { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-108101550-1'); }); </script> <script async type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1264408226'%3E%3C/span%3E%3Cscript src='//s22.cnzz.com/z_stat.php%3Fid%3D1264408226%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script></div><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2014-2024 <a href="https://github.com/walterlv">walterlv</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由吕毅按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，基于 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题修改。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/dotnet/">dotnet</a> <a class="post-tag" href="/tags/csharp/">csharp</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/wpf/">wpf</a> <a class="post-tag" href="/tags/visualstudio/">visualstudio</a> <a class="post-tag" href="/tags/msbuild/">msbuild</a> <a class="post-tag" href="/tags/uwp/">uwp</a> <a class="post-tag" href="/tags/nuget/">nuget</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/roslyn/">roslyn</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script defer src="/assets/js/dist/home.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
